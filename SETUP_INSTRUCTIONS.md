# Инструкция по запуску с новым функционалом корзины

## Шаги для запуска

### 1. Запустите Docker Desktop (если еще не запущен)

### 2. Запустите контейнеры

```bash
docker compose up -d
```

### 3. Примените миграции

```bash
docker compose exec web python src/manage.py migrate
```

### 4. Создайте суперпользователя (если еще не создан)

```bash
docker compose exec web python src/manage.py createsuperuser
```

### 5. Заполните базу данных тестовыми данными (если нужно)

```bash
docker compose exec web python src/manage.py seed_db
```

### 6. Откройте приложение

- Главная страница: http://localhost:8000
- Админ-панель: http://localhost:8000/admin

## Тестирование функционала

### Для неавторизованного пользователя:

1. Откройте любой товар
2. Нажмите "Купить"
3. Должно появиться модальное окно с предложением авторизоваться

### Для авторизованного пользователя:

1. Зарегистрируйтесь или войдите
2. Откройте любой товар
3. Нажмите "Купить"
4. Выберите количество товара
5. Нажмите "Добавить в корзину"
6. В навигации появится иконка корзины со счетчиком
7. Перейдите в корзину
8. Измените количество товаров или удалите товары
9. Нажмите "Оформить заказ"
10. Вы будете перенаправлены на страницу заказа с сообщением
11. Проверьте "Мои заказы" - там будет ваш заказ

### Для администратора:

1. Войдите в админ-панель (http://localhost:8000/admin)
2. Перейдите в раздел "Orders" (Заказы)
3. Вы увидите все заказы пользователей
4. Откройте любой заказ
5. Измените статус заказа (например, на "В обработке")
6. Сохраните изменения

## Возможные проблемы

### Docker не запущен

Если вы видите ошибку `error during connect`, убедитесь, что Docker Desktop запущен.

### Порт 8000 занят

Если порт 8000 уже используется, измените его в `docker-compose.yml`:

```yaml
ports:
  - "8001:8000"  # Вместо 8000:8000
```

### База данных не создана

Если возникают ошибки с базой данных, пересоздайте контейнеры:

```bash
docker compose down -v
docker compose up -d
docker compose exec web python src/manage.py migrate
docker compose exec web python src/manage.py seed_db
```
